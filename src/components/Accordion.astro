---
const { caption, bio, image } = Astro.props;
---

<div>
  
  <button class="accordion text-2xl md:text-large flex justify-between items-center">
    <h2 class="italic">{caption}</h2>
    <span class="icon font-extralight"></span>
  </button>

  
  <div class="panel grid grid-cols-1 md:grid-cols-2 gap-4 items-start overflow-hidden max-h-0 transition-[max-height]">
    <p class="pt-8">{bio}</p>
    <img class="pt-8" src={image} alt="" class="max-w-[300px] -mt-5 mx-auto h-auto">
  </div>
  
  
  <div class="border"></div>
</div>

<style>
  .accordion {
    cursor: pointer;
    padding: 3px; 
    width: 100%; 
    text-align: left; 
    outline: none; 
    transition: 0.4s;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  
  .icon::before {
    content: "+"; 
    display: inline-block;
    transition: transform 0.4s ease; 
    font-size: 4.5rem; 
    color: #FF5900;
  }

  
  .accordion.active .icon::before {
    transform: rotate(45deg); 
  }

  .panel {
    padding: 0 18px; 
    
    max-height: 0; 
    transition: max-height 0.4s ease; 
    overflow: hidden;
  }

  
  .panel.active {
    max-height: 1000px;
  }

  
  .border {
    height: 2px;
    background-color: grey; 
    transition: all 0.4s ease; 
  }

  
  .accordion:not(.active) + .border {
    margin-top: -2px; 
  }

  
  .panel.active + .border {
    margin-top: 20px; 
  }

  
  .panel.active {
    margin-bottom: 2px; 
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const accordions = document.getElementsByClassName("accordion");

    for (let i = 0; i < accordions.length; i++) {
      accordions[i].addEventListener("click", function () {
        this.classList.toggle("active"); 
        
        const panel = this.nextElementSibling;
        
        
        panel.classList.toggle("active");
      });
    }
  });
</script>